(this.webpackJsonpimagequiz=this.webpackJsonpimagequiz||[]).push([[0],{40:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(19),a=n.n(s),i=(n(40),n(10)),o=n(13),u=n(5),j=n(12),l=n.n(j),b=n(17),d=n(23),h=(n(30),n(2));var p=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){return(e=Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://brettbookbinder-imagequiz.herokuapp.com/images");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsx)("div",{children:n.map((function(e,t){var n=t+1;return Object(h.jsx)(d.a,{children:Object(h.jsxs)(o.b,{to:"/quiz/".concat(n),children:[Object(h.jsx)(d.a.Image,{width:200,height:200,alt:e.name,src:e.picture}),Object(h.jsx)(d.a.Caption,{children:e.name})]})},n)}))})};var O=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),j=o[0],d=o[1],p=Object(c.useState)(""),O=Object(i.a)(p,2),x=O[0],f=O[1],m=Object(u.f)();function v(){return(v=Object(b.a)(l.a.mark((function t(n){var c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),0!==r.length&&0!==j.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,fetch("https://brettbookbinder-imagequiz.herokuapp.com/customer",{method:"POST",body:JSON.stringify({name:r,password:j,email:x}),headers:{"Content-Type":"application/json"}});case 6:return c=t.sent,t.next=9,c.json();case 9:s=t.sent,console.log(s),localStorage.setItem("customerid",s.id),m.push("/"),localStorage.setItem("username",s.name),e.setUserInfo({username:s.name,customerid:s.id}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[3,17]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Username"}),Object(h.jsx)("input",{value:r,onChange:function(e){s(e.target.value)},type:"text"})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Password"}),Object(h.jsx)("input",{value:j,onChange:function(e){d(e.target.value)},type:"password"})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Email"}),Object(h.jsx)("input",{value:x,onChange:function(e){f(e.target.value)},type:"text"})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"Submit"})})]})]})},x=n(29),f=n(35);var m=function(e){var t,n,c;return Object(h.jsxs)(f.a,{bg:"dark",expand:"lg",variant:"dark",children:[null!=(null===(t=e.userinfo)||void 0===t?void 0:t.username)&&Object(h.jsxs)("p",{style:{color:"white"},children:["Logged in as ",null===(n=e.userinfo)||void 0===n?void 0:n.username]}),null==(null===(c=e.userinfo)||void 0===c?void 0:c.username)&&Object(h.jsx)("p",{style:{color:"white"},children:"Not logged in"}),Object(h.jsx)(x.a.Link,{children:Object(h.jsx)(o.b,{className:"link",to:"/",children:"Home"})}),Object(h.jsx)(x.a.Link,{children:Object(h.jsx)(o.b,{className:"link",to:"/login",children:"Login"})})]})},v=n(54);var g=function(e){var t=Object(u.f)(),n=Object(c.useState)([]),r=Object(i.a)(n,2),s=r[0],a=r[1],o=Object(c.useState)(0),j=Object(i.a)(o,2),p=j[0],O=j[1],x=Object(c.useState)([!1,!1,!1,!1,!1,!1]),f=Object(i.a)(x,2),m=f[0],g=f[1],k=Object(u.g)().id;function S(){return(S=Object(b.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://brettbookbinder-imagequiz.herokuapp.com/score/",{method:"POST",body:JSON.stringify({customerid:localStorage.getItem("customerid"),quizid:k,score:p}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,console.log(c),alert("Score Submitted!"),t.push("/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://brettbookbinder-imagequiz.herokuapp.com/quiz/"+k);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Score: ",p]}),s.map((function(e,t){var n=e.choices.split(" ")[0],c=e.choices.split(" ")[1],r=e.choices.split(" ")[2];return Object(h.jsx)("div",{children:!1===m[t]&&Object(h.jsxs)(d.a,{children:[Object(h.jsx)(d.a.Image,{src:e.picture}),Object(h.jsx)(v.a,{onClick:function(){n===e.answer&&O(p+1);var c=m.slice();c[t]=!0,g(c)},children:n}),Object(h.jsx)(v.a,{onClick:function(){c===e.answer&&O(p+1);var n=m.slice();n[t]=!0,g(n)},children:c}),Object(h.jsx)(v.a,{onClick:function(){r===e.answer&&O(p+1);var n=m.slice();n[t]=!0,g(n)},children:r})]})})})),Object(h.jsx)("div",{children:m.every((function(e){if(!0===e)return!0}))&&Object(h.jsxs)("div",{children:[" ",Object(h.jsx)(v.a,{onClick:function(){!function(){S.apply(this,arguments)}()},disabled:!localStorage.getItem("username"),children:"Submit Score"}),Object(h.jsx)(v.a,{onClick:function(){O(0),g([!1,!1,!1,!1,!1,!1])},children:"Reset Quiz"}),Object(h.jsx)("p",{children:"Note: You must be logged in to submit a score."})]})})]})};var k=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){r({username:localStorage.getItem("username"),customerid:localStorage.getItem("customerid")})}),[]),Object(h.jsxs)(o.a,{children:[Object(h.jsx)(m,{userinfo:n}),Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{exact:!0,path:"/",component:p}),Object(h.jsx)(u.a,{path:"/login",children:Object(h.jsx)(O,{setUserInfo:r})}),Object(h.jsx)(u.a,{path:"/quiz/:id",component:g})]})]})};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.f57e3793.chunk.js.map